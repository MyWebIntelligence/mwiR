% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/recode.R
\name{plotlog}
\alias{plotlog}
\title{Visualise Original and Transformed Distributions}
\usage{
plotlog(
  df,
  variables = NULL,
  trans_type = "log1p",
  bins = "sturges",
  colors = c("#1f77b4", "#ff7f0e"),
  alpha = 0.6,
  theme = ggplot2::theme_minimal(),
  density = TRUE,
  show_rug = FALSE,
  na_rm = TRUE,
  min_non_missing = 5L,
  shift_constant = 1,
  display = TRUE,
  save = FALSE,
  save_dir = "plotlog_output",
  save_format = c("png", "pdf", "jpg"),
  save_dpi = 300,
  device_width = 9,
  device_height = 4.5,
  verbose = interactive()
)
}
\arguments{
\item{df}{Data frame containing the variables to explore.}

\item{variables}{Optional character vector of column names. When `NULL`, every numeric
column is used.}

\item{trans_type}{Transformation to apply. Supply a single name (default `"log1p"`),
one value per variable, a named list (optionally with `default`), or a custom
function. Supported names: `"none"`, `"log1p"`, `"log"`, `"sqrt"`, `"zscore"`,
`"rank"`.}

\item{bins}{Either a single integer (fixed bin count) or one of `"sturges"`,
`"fd"`/`"freedman-diaconis"`, `"scott"`, `"sqrt"`, `"rice"`, `"doane"`, or `"auto"`
(max of Sturges & F-D, per Freedman & Diaconis, 1981).}

\item{colors}{Length-two character vector used for original and transformed fills.}

\item{alpha}{Histogram fill transparency (0–1).}

\item{theme}{ggplot2 theme applied to every panel.}

\item{density}{Logical flag adding a kernel density overlay (on the same density scale).}

\item{show_rug}{Logical; when `TRUE`, draws a rug to highlight individual values.}

\item{na_rm}{Remove `NA`/`NaN`/`Inf` before drawing. When `FALSE`, they are retained
but still excluded from the geoms.}

\item{min_non_missing}{Minimum number of finite observations required to attempt a plot.}

\item{shift_constant}{Positive offset used when a transform needs shifting into its
domain (e.g. log of non-positive data).}

\item{display}{Draw plots to the active graphics device (`TRUE` by default).}

\item{save}{Persist paired panels with `ggplot2::ggsave()`.}

\item{save_dir}{Directory for saved graphics (created on demand).}

\item{save_format}{File format (`"png"`, `"pdf"`, or `"jpg"`).}

\item{save_dpi}{Resolution when the format supports it.}

\item{device_width, device_height}{Dimensions (inches) used for saved layouts.}

\item{verbose}{Emit informational messages (defaults to `interactive()`).}
}
\value{
Invisibly returns a list with two elements:
  * `plots`: per-variable lists containing the original panel, transformed panel, and
    the combined grob.
  * `metadata`: data frame describing data hygiene, transform shifts, and binning.
}
\description{
Builds paired density-scaled histograms comparing original numeric variables with a
transformed version. Textbook binning rules (Sturges, Freedman–Diaconis, Scott, etc.)
are implemented for adaptive resolution, potentially shifted transforms respect the
domain constraints of log/sqrt families (cf. Burbidge, Magee & Robb, 1988), and plots
can be saved or returned for further composition.
}
\details{
- Binning rules follow the literature on histogram estimation (Freedman & Diaconis,
  1981; Scott, 1979; Doane, 1976) and fall back to Sturges when a rule is ill-conditioned.
- Domain corrections for log-like transforms follow the additive constant strategy
  recommended by Burbidge, Magee & Robb (1988).
}
\references{
Freedman, D., & Diaconis, P. (1981). *On the histogram as a density estimator: L2 theory*.
Burbidge, J. B., Magee, L., & Robb, A. L. (1988). *Alternative transformations to handle
   extreme values of the dependent variable*. Journal of the American Statistical Association.
}
