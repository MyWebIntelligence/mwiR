% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/recode.R
\name{GPT_Recode}
\alias{GPT_Recode}
\title{Recode Cell Values Using GPT}
\usage{
GPT_Recode(
  prompt,
  cell,
  sysprompt =
    "You are a helpful assistant that recodes dataframe values. Return only the transformed value.",
  model = "gpt-4o",
  temperature = 0.8,
  max_tokens = 1000,
  max_retries = 3,
  retry_delay = 1,
  validate = TRUE
)
}
\arguments{
\item{prompt}{A character string specifying the transformation prompt (e.g., "Translate to French").}

\item{cell}{A character string containing the value to be recoded.}

\item{sysprompt}{Optional system prompt to guide the model's behavior. 
Default: "You are a helpful assistant that recodes dataframe values. Return only the transformed value."}

\item{model}{The GPT model to use. Default: "gpt-4o". Alternatives: "gpt-3.5-turbo".}

\item{temperature}{Controls randomness (0-2). Lower = more deterministic. Default: 0.8.}

\item{max_tokens}{Maximum length of response. Default: 1000.}

\item{max_retries}{Maximum API retry attempts on failure. Default: 3.}

\item{retry_delay}{Seconds between retries. Default: 1.}
}
\value{
A character string containing the recoded value, or NA if the operation fails.
}
\description{
This function uses OpenAI's GPT models to recode/transform cell values based on a provided prompt.
It includes robust error handling, input validation, and rate limiting.
}
\details{
The function performs the following steps:
1. Validates all input parameters
2. Checks for OpenAI API key in environment variables
3. Makes API call with retry logic
4. Handles various error conditions gracefully
5. Returns transformed value or NA on failure
}
\note{
Requires the 'openai' package and a valid OPENAI_API_KEY environment variable.
For bulk operations, consider implementing additional rate limiting.
}
\examples{
\dontrun{
# Set API key
Sys.setenv(OPENAI_API_KEY = "your-key-here")

# Simple translation
GPT_Recode("Translate to French", "Hello world")

# More complex transformation
GPT_Recode("Extract the main verb", "The cat sat on the mat")
}

}
